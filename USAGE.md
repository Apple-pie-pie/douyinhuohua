# 使用说明

## 项目简介

**抖音续火花助手**是一个桌面应用程序，帮助用户在Windows平台上方便地访问抖音网页版并进行续火花操作。

## 功能特点

- ✅ 内嵌抖音网页版，无需打开浏览器
- ✅ 支持账号登录和机器人验证
- ✅ 快捷消息发送功能
- ✅ 常用表情快捷按钮
- ✅ 浏览器导航功能（后退、前进、刷新）
- ✅ 直达消息页面

## 安装和运行

### 方法1：直接运行（需要Python环境）

1. **安装Python**
   - 下载并安装 Python 3.7 或更高版本
   - 下载地址：https://www.python.org/downloads/
   - 安装时勾选 "Add Python to PATH"

2. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

3. **运行程序**
   - 双击 `run.bat` 文件
   - 或在命令行中执行：`python main.py`

### 方法2：使用打包的EXE文件（无需Python环境）

1. **打包程序**
   - 双击 `build.bat` 文件
   - 等待打包完成

2. **运行程序**
   - 打开 `dist` 文件夹
   - 双击 `抖音续火花助手.exe` 文件即可运行

## 使用指南

### 第一次使用

1. **启动程序**
   - 程序会自动打开抖音网页版

2. **登录账号**
   - 在程序内完成抖音账号登录
   - 如遇到机器人验证，在程序内完成验证即可

3. **进入消息页面**
   - 点击工具栏的 "💬 消息" 按钮
   - 或在网页中手动导航到消息页面

### 续火花操作

1. **打开聊天窗口**
   - 在消息列表中点击要续火花的好友
   - 打开对话框

2. **发送消息**
   - **方式1**：在底部输入框输入文字，点击"发送消息"按钮或按回车键
   - **方式2**：点击快捷表情按钮（❤️、👍、😊、🔥）
   - **方式3**：点击"快捷消息: 早安"按钮发送预设消息

### 工具栏功能

- **← 后退**：返回上一页
- **前进 →**：前进到下一页
- **🔄 刷新**：刷新当前页面
- **🏠 主页**：返回抖音主页
- **💬 消息**：直达消息页面

## 技术说明

### 项目结构

```
douyinhuohua/
├── main.py              # 主程序文件
├── requirements.txt     # Python依赖包列表
├── run.bat             # 测试运行批处理文件
├── build.bat           # 打包批处理文件
├── main.spec           # PyInstaller配置文件
├── README.md           # 项目说明
└── USAGE.md            # 使用说明（本文件）
```

### 技术栈

- **Python 3.7+**：主要编程语言
- **PyQt5**：GUI框架
- **PyQtWebEngine**：网页浏览引擎
- **PyInstaller**：打包工具

### 消息发送原理

程序通过JavaScript注入的方式，在网页中查找输入框并填充消息内容，然后尝试触发发送按钮。

⚠️ **注意**：由于抖音网页版的DOM结构可能会更新，如果自动发送功能失效，您仍然可以手动在网页中操作。

## 常见问题

### Q1: 程序启动后显示空白页面？

**A**: 检查网络连接，确保可以正常访问抖音网站。如果问题持续，尝试点击刷新按钮。

### Q2: 无法登录账号？

**A**: 
- 确保输入的账号密码正确
- 完成必要的机器人验证
- 如果仍无法登录，尝试在浏览器中先登录，确认账号状态正常

### Q3: 快捷发送消息不起作用？

**A**:
- 确保已经打开了聊天窗口
- 抖音网页版的DOM结构可能已更新，导致自动发送功能暂时失效
- 可以手动在网页中输入并发送消息

### Q4: 打包后的EXE文件很大？

**A**: 这是正常的。PyInstaller会将Python解释器和所有依赖库打包进EXE文件，导致文件较大（约100-200MB）。这样做的好处是用户无需安装Python环境即可运行。

### Q5: 杀毒软件报警？

**A**: 
- 这是误报，PyInstaller打包的程序经常被杀毒软件误判
- 您可以添加信任或使用从源代码直接运行的方式（方法1）

## 免责声明

本程序仅供学习和研究使用，请遵守抖音平台的用户协议和相关法律法规。使用本程序所产生的任何后果由使用者自行承担。

## 更新日志

### v1.0.0 (2026-01-03)
- ✨ 初始版本发布
- ✨ 支持内嵌抖音网页版
- ✨ 支持快捷消息发送
- ✨ 支持快捷表情按钮
- ✨ 支持打包为Windows可执行文件

## 反馈与建议

如遇到问题或有改进建议，欢迎反馈。
